<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title></title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a>
    <ul>
      <li><a href="#new-attr">new($attr)</a></li>
      <li><a href="#form_parse-Parse-html-query-input">form_parse() Parse html query input</a></li>
      <li><a href="#form_input-name-value-attr---Show-form-input">form_input($name, $value, $attr) - Show form input</a></li>
      <li><a href="#form_textarea-name-value-attr---Show-form-textarea-input">form_textarea($name, $value, $attr) - Show form textarea input</a></li>
      <li><a href="#form_main-name-value-attr---Create-input-form-container">form_main($name, $value, $attr) - Create input form container</a></li>
      <li><a href="#form_select-name-attr---Create-FORM-select-element">form_select($name, $attr) - Create FORM select element</a></li>
      <li><a href="#form_window-name-attr---Show-modal-windows">form_window($name, $attr) - Show modal windows</a></li>
      <li><a href="#set_cookies-name-value-expiration-path-attr---Set-cookies">set_cookies($name, $value, $expiration, $path, $attr) - Set cookies</a></li>
      <li><a href="#get_cookies---get-cookie-values-and-return-hash-of-it">get_cookies() - get cookie values and return hash of it</a></li>
      <li><a href="#menu-menu_items-menu_args-permissions-attr---Make-menu">menu($menu_items, $menu_args, $permissions, $attr) - Make menu</a></li>
      <li><a href="#menu_right-menu_items-menu_args-permissions-attr---Make-menu">menu_right($menu_items, $menu_args, $permissions, $attr) - Make menu</a></li>
      <li><a href="#menu2-menu_items-menu_args-permissions-attr---User-portal-menu">menu2($menu_items, $menu_args, $permissions, $attr) - User portal menu</a></li>
      <li><a href="#mk_menu-menu-menu_args-attr---Make-user-menu">mk_menu($menu, $menu_args, $attr) - Make user menu</a></li>
      <li><a href="#header---header-of-main-page">header() - header of main page</a></li>
      <li><a href="#table---Create-table-object">table() - Create table object</a></li>
      <li><a href="#addrows-row---Add-rows-to-table">addrows(@row) - Add rows to table</a></li>
      <li><a href="#addtd-row---Add-rows-to-table-form-td-objects">addtd(@row) - Add rows to table form td objects</a></li>
      <li><a href="#th-value-attr---Table-TH-element">th($value, $attr) - Table TH element</a></li>
      <li><a href="#td-value-attr---Table-TD-element">td($value, $attr) - Table TD element</a></li>
      <li><a href="#table_header-header_arr-attr---Table-header-function-button">table_header($header_arr, $attr) - Table header function button</a></li>
      <li><a href="#table_title-sort-desc-pg-caption-qs-attr---Show-table-column-titles-with-word-derectives">table_title($sort, $desc, $pg, $caption, $qs, $attr) - Show table column titles with word derectives</a></li>
      <li><a href="#table_title-caption-attr---Show-table-column-titles-without-sort-element">table_title($caption, $attr) - Show table column titles without sort element</a></li>
      <li><a href="#show-attr---show-table-content">show($attr) - show table content</a></li>
      <li><a href="#link_former-text-attr---Format-link">link_former($text, $attr) - Format link</a></li>
      <li><a href="#img-img-name-attr---show-image">img($img, $name, $attr) - show image</a></li>
      <li><a href="#button-name-params-attr---Create-link-element">button($name, $params, $attr) - Create link element</a></li>
      <li><a href="#message-type-caption-message-attr---Show-message-box">message($type, $caption, $message, $attr) - Show message box</a></li>
      <li><a href="#color_mark-text-color---Hightlight-text">color_mark($text, $color) - Hightlight text</a></li>
      <li><a href="#pages-count-argument-attr---Make-pages-and-count-total-records">pages($count, $argument, $attr) - Make pages and count total records</a></li>
      <li><a href="#date_fld2-base_name-attr---Make-data-field">date_fld2($base_name, $attr) - Make data field</a></li>
      <li><a href="#log_print-level-text---Print-log">log_print($level, $text) - Print log</a></li>
      <li><a href="#tpl_show-tpl-variables_ref-attr---Show-templates">tpl_show($tpl, $variables_ref, $attr) - Show templates</a></li>
      <li><a href="#test---test-function">test() - test function</a></li>
      <li><a href="#letters_list-attr---Show-letter-pagination">letters_list($attr); - Show letter pagination</a></li>
      <li><a href="#make_charts-attr---Make-different-charts">make_charts($attr) - Make different charts</a></li>
      <li><a href="#make_charts2-attr---Make-different-charts">make_charts2($attr) - Make different charts</a></li>
      <li><a href="#br-attr---Make-HTML-br-element-Break-line">br($attr) - Make HTML &lt;br&gt; element (Break line)</a></li>
      <li><a href="#li-item-attr---Make-HTML-li-element-list-item">li($item, $attr) - Make HTML &lt;li&gt; element (list item)</a></li>
      <li><a href="#pre-message-attr---Make-HTML-pre-element">pre($message, $attr) - Make HTML &lt;pre&gt; element</a></li>
      <li><a href="#b-message-attr---Make-HTML-b-element-bold-text">b($message, $attr) - Make HTML &lt;b&gt; element (bold text)</a></li>
      <li><a href="#element-name-value-attr---Create-HTML-element">element($name, $value, $attr) - Create HTML element</a></li>
      <li><a href="#badge-text-attr---Make-HTML-badge">badge($text, $attr) - Make HTML badge</a></li>
      <li><a href="#progress_bar-attr---Make-progress-bar">progress_bar($attr) - Make progress bar</a></li>
      <li><a href="#short_info_panels_row-panels-attr---Nice-looking-element-to-show-some-simple-information-presented-as-number">short_info_panels_row($panels, $attr) - Nice looking element to show some simple information presented as number</a></li>
      <li><a href="#tree_menu-list-name-attr">tree_menu($list, $name, $attr)</a></li>
      <li><a href="#build_parentness_tree-array-attr---build-hash_ref-that-represents-ieararchy-for-list-Parents-and-children">build_parentness_tree($array, $attr) - build hash_ref that represents ieararchy for list (Parents and children);</a></li>
      <li><a href="#fetch---Fetch-cache-data">fetch() - Fetch cache data</a></li>
      <li><a href="#form_datepicker-name-value-attr">form_datepicker($name, $value, $attr) -</a></li>
      <li><a href="#form_daterangepicker-attr---Adapter-to-JavaScript-Date-Range-Picker">form_daterangepicker($attr) - Adapter to JavaScript Date Range Picker</a></li>
      <li><a href="#form_timepicker-name-value-attr">form_timepicker($name, $value, $attr)</a></li>
      <li><a href="#form_datetimepicker-name-value-attr---simple-datetime-chooser">form_datetimepicker($name, $value, $attr) - simple datetime chooser</a></li>
      <li><a href="#reminder-header-message-attr---shows-callout-message-at-top-of-page">reminder($header, $message, $attr) - shows callout message at top of page</a></li>
      <li><a href="#redirect-url---redirects-user-to-given-URL">redirect($url) - redirects user to given URL</a></li>
    </ul>
  </li>
  <li><a href="#AUTHOR">AUTHOR</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Abills::HTML - HTML visualisation functions with bootstrap support</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code>    use Abills::HTML;

    $html = Abills::HTML-&gt;new(
       {
         CONF     =&gt; \%conf,
         NO_PRINT =&gt; 0,
         PATH     =&gt; $conf{WEB_IMG_SCRIPT_PATH} || &#39;../&#39;,
         CHARSET  =&gt; $conf{default_charset},
       }
    );

    print $html-&gt;header();

    print $html-&gt;button(&#39;User&#39;, &quot;index=15&amp;UID=123&quot;);</code></pre>

<h2 id="new-attr">new($attr)</h2>

<pre><code>  $attr
    NOPRINT
    CONF</code></pre>

<h2 id="form_parse-Parse-html-query-input">form_parse() Parse html query input</h2>

<pre><code>  Return:
    Output HASH</code></pre>

<h2 id="form_input-name-value-attr---Show-form-input">form_input($name, $value, $attr) - Show form input</h2>

<pre><code>  Arguments:
    $name
    $value
    $attr
      EX_PARAMS
      TYPE      - Input type (submit, hidden, checkbox)
      STATE     - State for checkbox
      FORM_ID   - Main form ID
      SUCCESS   - Green button for submit input
      ID        - custom id attr for element, uses $name otherwise

  Returns:
    html Input obj</code></pre>

<h2 id="form_textarea-name-value-attr---Show-form-textarea-input">form_textarea($name, $value, $attr) - Show form textarea input</h2>

<pre><code>  Arguments:
    $name
    $value
    $attr
  Returns:</code></pre>

<h2 id="form_main-name-value-attr---Create-input-form-container">form_main($name, $value, $attr) - Create input form container</h2>

<pre><code>  Arguments:

    $attr
      CONTENT    - Main content
      HIDDEN     - Hidden fields hash_ref
              { index =&gt; 21 }
      SUBMIT     - Submit elent hash_ref
              { submit =&gt; $lang{ADD} }
      ID         - Form id
      EXPORT_CONTENT - Export content
      METHOD     - HTTP Method for submit
      ENCTYPE
      NAME
      TARGET
      class
      OUTPUT2RETURN

  Results:

    output result string

  Examples:</code></pre>

<h2 id="form_select-name-attr---Create-FORM-select-element">form_select($name, $attr) - Create FORM select element</h2>

<pre><code>  Arguments:

    $name        - Element name
    $attr
      SEL_ARRAY      - ARRAY_ref
      ARRAY_NUM_ID   - treat array item position as id
      SEL_HASH       - HASH_ref
      SEL_LIST       - list of array_hash
      SEL_KEY        - key for option name
      SEL_VALUE      - key for option value
      NO_ID          - Do not display hash key
      SELECTED       - Selected value
      POPUP_WINDOW   - Make popup window
      FORM_ID        - Main form ID
      ID             - Elemet ID
      MAIN_MENU      - Main menu link for main function
      MAIN_MENU_ARGV - Arguments for main menu
      EXT_BUTTON     - Allow second button next to MAIN_MENU
      STYLE          - Array of element style
      SEL_OPTIONS    - Extra sel options HASH_REF { key =&gt; value, ... }
      EXPORT_CONTENT - Export content
      USE_COLORS     - Use color for hash value
      EX_PARAMS      - Extra HTML attributes
      NORMAL_WIDTH   - By default, all selects in .form-horizontal .form-group will have .form-group width,
                       this options sets width to 100% (.form-control styles)
      AUTOSUBMIT     - Submit form when selected ( $URL or &#39;form&#39; )
      OUTPUT2RETURN

  Results:

    output result string

  Examples:</code></pre>

<h2 id="form_window-name-attr---Show-modal-windows">form_window($name, $attr) - Show modal windows</h2>

<pre><code>  Arguments:
    $name   - Windows name
    $attr   - Extra elements

  Returns:
    $self-&gt;{WINDOW}</code></pre>

<h2 id="set_cookies-name-value-expiration-path-attr---Set-cookies">set_cookies($name, $value, $expiration, $path, $attr) - Set cookies</h2>

<pre><code>  Arguments:

    $name        - Cookie name
    $value       - Cookie value
    $expiration  - Cookie expire (Default: 24 hour)
    $path        - web path
    $attr        -
      SKIP_SAVE    - Skip Save cookie
      DOMAIN       - domain
      SECURE       - secure world

  Results:

    print cookie</code></pre>

<h2 id="get_cookies---get-cookie-values-and-return-hash-of-it">get_cookies() - get cookie values and return hash of it</h2>

<pre><code>  Results:

    return cookies (HASH_REF)

  Examples:

    my $cookies = $html-&gt;get_cookies();</code></pre>

<h2 id="menu-menu_items-menu_args-permissions-attr---Make-menu">menu($menu_items, $menu_args, $permissions, $attr) - Make menu</h2>

<pre><code>  Arguments:
    $menu_items   - Menu items hash_ref
    $menu_args    - Extra menu arguments
    $permissions  - Admin permissions hash_ref
    $attr         - Extra attrinbutes

  Returns:
    $menu_navigator, $menu_text</code></pre>

<h2 id="menu_right-menu_items-menu_args-permissions-attr---Make-menu">menu_right($menu_items, $menu_args, $permissions, $attr) - Make menu</h2>

<pre><code>  Arguments:
    $menu_item_name    - Menu item name
    $menu_item_id      - Menu item name
    $menu_content      - Menu html code;
    $attr    - Full html if item is apdded.
      HTML        - Full html if item is added.
      SKIN        - Skin menu.
  Returns:
    $right_menu_html</code></pre>

<h2 id="menu2-menu_items-menu_args-permissions-attr---User-portal-menu">menu2($menu_items, $menu_args, $permissions, $attr) - User portal menu</h2>

<h2 id="mk_menu-menu-menu_args-attr---Make-user-menu">mk_menu($menu, $menu_args, $attr) - Make user menu</h2>

<pre><code>  Arguments:
    $menu         - Menu hash_ref
    $menu_args    - Menu arguments
    $attr
      PARENT        - Parent element
      EX_ARGS       - Extra arguments
      FUNCTION_LIST - Functions list
      SKIP_HREF     - Skip SKIP_HREF for dynamic reload

  Returns:

    formed menu</code></pre>

<h2 id="header---header-of-main-page">header() - header of main page</h2>

<pre><code>  Arguments:

    $attr

  Examples:

    $html-&gt;header();</code></pre>

<h2 id="table---Create-table-object">table() - Create table object</h2>

<pre><code>  Arguments:

    $attr
      caption     - table caption
      width       - table width
      title       - table title array ref
      title_plain - plain table title array ref (without sort fields)
      header      - header buttons (array of buttons)
      border      - Table border
      qs          - Extra query string for element
      ID          - table ID
      MENU        - ???
      EXPORT      - show button for exporting table
      IMPORT      - Show import form
      NOT_RESPONSIVE
      SHOW_COLS_HIDDEN - Hidden columns for gum fields
      SKIP_TOP_PAGES - Skip top pages
      HIDE_TABLE  - Hide tible to cut
      SELECT_ALL  - Show select ID form
       &#39;form_name:field_name:show_name&#39;
      pages       - Show pages
      SHOW_FULL_LIST - Show full list page
      HAS_FUNCTION_FIELDS - boolean. Special CSS rules will be apllied to align last column to right

  Returns:

     Table object

  Examples:

    my $table = $html-&gt;table(
    {
      width      =&gt; &#39;100%&#39;,
      caption    =&gt; &quot;Table caption&quot;,
      title      =&gt; [ &quot;$lang{LOGIN}&quot;, &quot;$lang{FIO}&quot;, &quot;$lang{PHONE}&quot; ],
      qs         =&gt; $pages_qs,
      ID         =&gt; &#39;TABLE_ID&#39;,
      export     =&gt; 1
    }
    );

    $table-&gt;addrow(&#39;test&#39;, &#39;Ivan Pupkin&#39;, &#39;39999999999&#39;);

    $table-&gt;show();

  Table with header buttons:

    my @status_bar = (
      &quot;$lang{ALL}:index=$index&amp;NOTE_STATUS=ALL&quot;,
      &quot;$lang{ACTIVE}:index=$index&amp;NOTE_STATUS=0&quot;,
      &quot;$lang{CLOSED}:index=$index&amp;NOTE_STATUS=1&quot;,
      &quot;$lang{INWORK}:index=$index&amp;NOTE_STATUS=2&quot;
    );

    my $table = $html-&gt;table(
    {
      width      =&gt; &#39;100%&#39;,
      caption    =&gt; $lang{NOTEPAD},
      title      =&gt; [ $lang{DATE} . &#39;/&#39; . $lang{TIME}, $lang{ADDED}, $lang{STATUS}, $lang{SUBJECT}, &#39;-&#39;, &#39;-&#39; ],
      cols_align =&gt; [ &#39;left&#39;, &#39;right&#39;, &#39;right&#39;, &#39;right&#39;, &#39;center&#39;, &#39;center&#39; ],
      pages      =&gt; $Notepad-&gt;{TOTAL},
      header     =&gt; $html-&gt;table_header(\@status_bar),
      ID         =&gt; &#39;NOTEPAD_ID&#39;,
      MENU       =&gt; &quot;$lang{ADD}:index=$index&amp;add_form=1&amp;$pages_qs:add&quot;,
      EXPORT     =&gt; 1
      SELECT_ALL =&gt; &#39;users_list:UID:$lang{SELECT_ALL}&#39;
    }
  );</code></pre>

<h2 id="addrows-row---Add-rows-to-table">addrows(@row) - Add rows to table</h2>

<pre><code>  Arguments:
    @row     - array of row elements

  Results:
    $self-&gt;{rows} - Formed row</code></pre>

<h2 id="addtd-row---Add-rows-to-table-form-td-objects">addtd(@row) - Add rows to table form td objects</h2>

<pre><code>  Arguments:
    @row     - array of td elements

  Returns:</code></pre>

<h2 id="th-value-attr---Table-TH-element">th($value, $attr) - Table TH element</h2>

<pre><code>  Arguments:
    $value   - value
    $attr    -</code></pre>

<h2 id="td-value-attr---Table-TD-element">td($value, $attr) - Table TD element</h2>

<pre><code>  Arguments:
    $value   - value
    $attr    -
      TH  - make  TH element</code></pre>

<h2 id="table_header-header_arr-attr---Table-header-function-button">table_header($header_arr, $attr) - Table header function button</h2>

<pre><code>  Arguments
   $header_arr   - array of elements
   $attr         - Extra attributes
     SHOW_ONLY

  Returns:
    $header      - Header</code></pre>

<h2 id="table_title-sort-desc-pg-caption-qs-attr---Show-table-column-titles-with-word-derectives">table_title($sort, $desc, $pg, $caption, $qs, $attr) - Show table column titles with word derectives</h2>

<pre><code>  Arguments:
   $sort      - sort column
   $desc      - DESC / ASC
   $pg        - page id
   $caption   - array off caption
   $qs        -

  Returns:
    $self-&gt;{table_title} - Table object</code></pre>

<h2 id="table_title-caption-attr---Show-table-column-titles-without-sort-element">table_title($caption, $attr) - Show table column titles without sort element</h2>

<pre><code>  Arguments:
   $caption   - array off caption
   $attr      - Extra params

  Returns:
    $self-&gt;{table_title} - Table object</code></pre>

<h2 id="show-attr---show-table-content">show($attr) - show table content</h2>

<pre><code>  Arguments:

    $attr    -
      EXPORT_CONTENT
      OUTPUT2RETURN
      NO_DEBUG_MARKERS

  Examples:

    $table-&gt;show();</code></pre>

<h2 id="link_former-text-attr---Format-link">link_former($text, $attr) - Format link</h2>

<pre><code>  Arguments:
    $text   -  Text for format
    $attr   -
       SKIP_SPACE - Skip space format

  Returns:
    $text  -  Formated text</code></pre>

<h2 id="img-img-name-attr---show-image">img($img, $name, $attr) - show image</h2>

<pre><code>  Arguments:
    $img    - Img file
    $name   - Img name
    $attr   - Extra attr
      EX_PARAMS - Extra_params
      class

  Returns:
    Image object</code></pre>

<h2 id="button-name-params-attr---Create-link-element">button($name, $params, $attr) - Create link element</h2>

<pre><code>  Arguments:
    $name     - Link name
    $params   - Link params (url)
    $attr    -
      class          - Add class for element
      BUTTON         - Make link like button
      ID             -
      NO_LINK_FORMER -
      JAVASCRIPT     -
      GLOBAL_URL     - Global link
      ex_params      -
      MESSAGE        - Opens &#39;#comments_add&#39; modal to enter COMMENTS before submit
      CONFIRM        - Opens &#39;#comments_add&#39; modal without COMMENTS
      AJAX           - allow AJAX submit form. Will load result page as JSON, and if &#39;MESSAGE&#39; found in result will show it.
                       This attribute treated as boolean,
                       but event with name &quot;AJAX_SUBMIT.$attr-&gt;{AJAX}&quot; will be triggered after submit
                       Expects $params have &#39;qindex&#39; or &#39;get_index&#39;.
      IMG            -
      TITLE          -
      SKIP_HREF      -
      ICON           - Img class &lt;i class=&quot;..&quot;&gt;&lt;/i&gt;
      ADD_ICON       - Img class &lt;i class=&quot;..&quot;&gt;&lt;/i&gt;. Instead of replacing button text will add icon to it


  Returns:

    String with element

  Examples:

    print $html-&gt;button(&#39;User&#39;, &quot;index=15&amp;UID=123&quot;, { class =&gt; &#39;btn btn-default&#39; });</code></pre>

<h2 id="message-type-caption-message-attr---Show-message-box">message($type, $caption, $message, $attr) - Show message box</h2>

<pre><code>  Arguments:
    $type     - Box type:
       info
       err
       warn
    $caption  - Box caption
    $message  - Message
    $attr
      ID    - Message ID
      EXTRA - Extra text
      OUTPUT2RETURN

  Examples:

   $html-&gt;message(&#39;err&#39;, $lang{ERROR}, &quot;$lang{ERR_ACCESS_DENY}&quot;);</code></pre>

<h2 id="color_mark-text-color---Hightlight-text">color_mark($text, $color) - Hightlight text</h2>

<pre><code>  Arguments:
    $text    - Input text
    $color   - Color or css style
      code - Mark for code text

  Returns:
    Mark text

  Examples:

    print color_mark(&#39;hello world&#39;, &#39;bg-danger&#39;);</code></pre>

<h2 id="pages-count-argument-attr---Make-pages-and-count-total-records">pages($count, $argument, $attr) - Make pages and count total records</h2>

<pre><code>  Argumenst:
    $count     - Show pages elemnts
    $argument  - Arguments
    $attr      - Extra atrtr

  Returns:
    Formed pages</code></pre>

<h2 id="date_fld2-base_name-attr---Make-data-field">date_fld2($base_name, $attr) - Make data field</h2>

<pre><code>  Arguments:
    $base_name  - Field name
    $attr       - Extra rguments
      FORM_NAME  - Form name
      DATE       - Date
      TIME       - Time
      NO_DEFAULT_DATE - Dont show default date. (by Default date cur date)
      MONTHES    - Monthes names array of names
      WEEK_DAYS  - Week days name
      TABINDEX   - Form tab index
      NEXT_DAY   - Show next day (Tommorow)

  Returns:
    data field element

  Examples:
    print $html-&gt;date_fld2(&#39;ACTIVATE&#39;, { FORM_NAME =&gt; &#39;users_list&#39;, WEEK_DAYS =&gt; \@WEEKDAYS, MONTHES =&gt; \@MONTHES, NO_DEFAULT_DATE =&gt; 1 }) ],</code></pre>

<h2 id="log_print-level-text---Print-log">log_print($level, $text) - Print log</h2>

<h2 id="tpl_show-tpl-variables_ref-attr---Show-templates">tpl_show($tpl, $variables_ref, $attr) - Show templates</h2>

<pre><code>  Arguments:

    $tpl             - Template text
    $variables_ref   - Variables hash_ref
    $attr            - Extra atributes
      EXPORT_CONTENT
      SKIP_DEBUG_MARKERS - do not show &quot;&lt;!-- START: &gt;&quot; markers
      OUTPUT2RETURN
      SKIP_VARS
      SKIP_QUOTE
      ID

  Examples:

    print $html-&gt;tpl_show(templates(&#39;form_user&#39;), { LOGIN =&gt; &#39;Pupkin&#39; });</code></pre>

<h2 id="test---test-function">test() - test function</h2>

<pre><code>  Show input variables
    %FORM     - Form
    %COOKIES  - Cookies
    %ENV      - Enviropment

  Arguments:
    $attr
      HEADER  - show content type header

  Result:
    TRUE or FALSE

  Examples:

    $html-&gt;test();</code></pre>

<h2 id="letters_list-attr---Show-letter-pagination">letters_list($attr); - Show letter pagination</h2>

<pre><code>  Arguments:
    $attr
      EXPR

  Returns:
    leter object</code></pre>

<h2 id="make_charts-attr---Make-different-charts">make_charts($attr) - Make different charts</h2>

<pre><code>   If given only one series and X_TEXT as YYYY-MM, will build columned compare chart

   Arguments:
     $attr
       DATA    - Data hash
         [object_name:value]
            value - Array_ref of values

       PERIOD  - Graphic period: week, year, month, hour, pie
       TYPES   - Object type: LINE, COLUMN, AREA, SCATTER, PIE
       X_TEXT  - Text for X
       DEBUG   - Enable debug for function
       SKIP_COMPARE - Skip compare mode
       SINGLE_COMPARE -  Single cross year compare. Use column name

   Result:
     TRUE or FALSE</code></pre>

<h2 id="make_charts2-attr---Make-different-charts">make_charts2($attr) - Make different charts</h2>

<pre><code>   If given only one series and X_TEXT as YYYY-MM, will build columned compare chart

   Arguments:
     $attr
       DATA    - Data hash
         [object_name:value]
            value - Array_ref of values
       TYPES    - Object type: LINE, COLUMN, AREA, SCATTER, PIE
       X_TEXT   - Text for X
       Y_TITLE  - Title for Y
       GRAPH_ID - &lt;div&gt; id
       TITLE    - Graph Title
   Result:
     TRUE or FALSE</code></pre>

<h2 id="br-attr---Make-HTML-br-element-Break-line">br($attr) - Make HTML &lt;br&gt; element (Break line)</h2>

<pre><code>  Examples:

   $html-&gt;br();</code></pre>

<h2 id="li-item-attr---Make-HTML-li-element-list-item">li($item, $attr) - Make HTML &lt;li&gt; element (list item)</h2>

<pre><code>  Arguments:

    $item     - Text
    $attr     - $attr
      class  - element class

  Examples:

   $html-&gt;li(&#39;list item&#39;);</code></pre>

<h2 id="pre-message-attr---Make-HTML-pre-element">pre($message, $attr) - Make HTML &lt;pre&gt; element</h2>

<pre><code>  Arguments:

    $text     - Text
    $attr     - $attr

  Examples:

   $html-&gt;per(&#39;Preformated text&#39;);</code></pre>

<h2 id="b-message-attr---Make-HTML-b-element-bold-text">b($message, $attr) - Make HTML &lt;b&gt; element (bold text)</h2>

<pre><code>  Arguments:

    $text     - Text
    $attr     - $attr

  Examples:

   $html-&gt;b(&#39;BOLD text&#39;);</code></pre>

<h2 id="element-name-value-attr---Create-HTML-element">element($name, $value, $attr) - Create HTML element</h2>

<pre><code>  Arguments:
    $name      - Element name
    $value     - value
    $attr      - Extra params
      class

  Returns:
    return result string

  Examples:

    $html-&gt;element(&#39;div&#39;, &#39;Hello word&#39;, { class =&gt; &quot;btn btn-default&quot; });</code></pre>

<h2 id="badge-text-attr---Make-HTML-badge">badge($text, $attr) - Make HTML badge</h2>

<pre><code>  Arguments:

    $text     - Text
    $attr     - $attr
      TYPE    - bootstrap badge class

  Examples:

    $html-&gt;badge(&#39;Badge text&#39;);</code></pre>

<h2 id="progress_bar-attr---Make-progress-bar">progress_bar($attr) - Make progress bar</h2>

<pre><code>  Arguments:

    $attr            - $attr
      TOTAL          -
      COMPLETE       -
      TEXT           -
      PERCENT_TYPE   - Progress bar with bage.If active you can use other arguments:
      MAX            - Max value
      ACTIVE         - Animation of progress bar
      COLOR          - Dinamic color:
                       1.ADAPTIVE- color is taken from precent of MAX ;
                       1.MAX_COLOR- color is taken from precent of TOTAL;

  Examples:

    print $html-&gt;progress_bar({
          TEXT     =&gt; &#39;Show memmory&#39;,
          TOTAL    =&gt; 12,
          COMPLETE =&gt; 16,
          COLOR    =&gt; ADAPTIVE,
          ACTIVE   =&gt; 1
        });</code></pre>

<h2 id="short_info_panels_row-panels-attr---Nice-looking-element-to-show-some-simple-information-presented-as-number">short_info_panels_row($panels, $attr) - Nice looking element to show some simple information presented as number</h2>

<pre><code>  If you don&#39;t provide $panels-&gt;{LINK} it will not have a box-footer.
  If you don&#39;t provide $panels-&gt;{SIZE} it will have 100% width.

  Also you can provide $html-&gt;button element to $attr-&gt;{TEXT}.</code></pre>

<p>ARGUMENTS: $panels - hash_ref or array_ref of hash_ref MANDATORY * ID - unique value, used to apply CSS rules (can not start from a number) * NUMBER - number * TEXT - text that describes number (Can be a link) * ICON - an identifying part of glyphicon name (e.g for &#39;glyphicon glyphicon-plus&#39; it will be &#39;plus&#39;)</p>

<pre><code>   OPTIONAL
    * SIZE   - size in columns if you are too lazy to form a template;
    * LINK   - $html-&gt;button formed link element where user can see full information
    * COLOR  - by default it will be got from AColorPalette, but you can pass here HEX, text, RGB or RGBA color
    * TEXT_COLOR - text color (including icon)

  $attr
    * OUTPUT2RETURN</code></pre>

<p>EXAMPLES:</p>

<pre><code> $html-&gt;short_info_panels_row(
   {
     ID     =&gt; mk_unique_value(10),
     NUMBER =&gt; 42,
     ICON   =&gt; &#39;globe&#39;,
     TEXT   =&gt; $html-&gt;button(&quot;The Answer&quot;, undef, { GLOBAL_URL =&gt; &#39;https://uk.wikipedia.org/wiki/%D0%92%D1%96%D0%B4%D0%BF%D0%BE%D0%B2%D1%96%D0%B4%D1%8C_%D0%BD%D0%B0_%D0%BF%D0%B8%D1%82%D0%B0%D0%BD%D0%BD%D1%8F_%D0%B6%D0%B8%D1%82%D1%82%D1%8F,_%D0%92%D1%81%D0%B5%D1%81%D0%B2%D1%96%D1%82%D1%83_%D1%96_%D0%B2%D0%B7%D0%B0%D0%B3%D0%B0%D0%BB%D1%96&#39;, OUTPUT2RETURN =&gt; 1 }),
     COLOR  =&gt; &#39;purple&#39;,
     SIZE   =&gt; 3
   }
 );

 Row of panels with footer and returned result

  my $panel = $html-&gt;short_info_panels_row(
  [
   {
     ID     =&gt; mk_unique_value(10),
     NUMBER =&gt; 42,
     TEXT   =&gt; &quot;The Answer&quot;,
     ICON   =&gt; &#39;globe&#39;,
     LINK   =&gt; $html-&gt;button(&quot;$lang{FULL}&quot;, undef, { GLOBAL_URL =&gt; &#39;https://uk.wikipedia.org/wiki/%D0%92%D1%96%D0%B4%D0%BF%D0%BE%D0%B2%D1%96%D0%B4%D1%8C_%D0%BD%D0%B0_%D0%BF%D0%B8%D1%82%D0%B0%D0%BD%D0%BD%D1%8F_%D0%B6%D0%B8%D1%82%D1%82%D1%8F,_%D0%92%D1%81%D0%B5%D1%81%D0%B2%D1%96%D1%82%D1%83_%D1%96_%D0%B2%D0%B7%D0%B0%D0%B3%D0%B0%D0%BB%D1%96&#39;, OUTPUT2RETURN =&gt; 1 }),
     COLOR  =&gt; &#39;purple&#39;,
     SIZE   =&gt; 3
   },
   {
     ID     =&gt; mk_unique_value(10),
     NUMBER =&gt; 42,
     ICON   =&gt; &#39;globe&#39;,
     TEXT   =&gt; $html-&gt;button(&quot;The Answer&quot;, undef, { GLOBAL_URL =&gt; &#39;https://uk.wikipedia.org/wiki/%D0%92%D1%96%D0%B4%D0%BF%D0%BE%D0%B2%D1%96%D0%B4%D1%8C_%D0%BD%D0%B0_%D0%BF%D0%B8%D1%82%D0%B0%D0%BD%D0%BD%D1%8F_%D0%B6%D0%B8%D1%82%D1%82%D1%8F,_%D0%92%D1%81%D0%B5%D1%81%D0%B2%D1%96%D1%82%D1%83_%D1%96_%D0%B2%D0%B7%D0%B0%D0%B3%D0%B0%D0%BB%D1%96&#39;, OUTPUT2RETURN =&gt; 1 }),
     COLOR  =&gt; &#39;purple&#39;,
     SIZE   =&gt; 3
   }
  ],
   {
     OUTPUT2RETURN =&gt;1
   }
 );</code></pre>

<h2 id="tree_menu-list-name-attr">tree_menu($list, $name, $attr)</h2>

<pre><code>  Builds a collapsible tree menu from hashref that contains array_refs as values

  Arguments:
    $list - array_ref of hash_ref (list from DB with a COLS_NAME attr)
    $name - Name for First level of menu
    $attr
      PARENT_KEY      - hash_key for an item&#39;s  parent id. Default to PARENT_ID
      ID_KEY          - hash_key for an item&#39;s id key. Default to &#39;ID&#39;

      LABEL_KEY        - hash_key for an item&#39;s label key. Default to &#39;NAME&#39;
      VALUE_KEY       - hash_key for an item&#39;s value key. Default to &#39;ID&#39;
      ROOT_VALUE      - Value of root (highest ieararchy level parent). Default is &#39;&#39;;

      PARENTNESS_HASH - if  you need more complicated structure pass your own ierarchy for building menu
      LEVEL_ID_KEYS    - arr_ref of ID_KEY  for a level
      LEVEL_LABEL_KEYS - arr_ref of LABEL_KEY  for a level
      LEVEL_VALUE_KEYS - arr_ref of VALUE_KEY for a level

      LEVELS   - number of levels to display. Default is to count it automatically
      CHECKBOX - boolean, will build a checkbox at last level
      NAME     - string, name for a checkbox

      COL_SIZE - width of menu. Default is 3 if LEVELS &lt;= 6, and 6 otherwise

  Returns:
    HTML code for a menu

  Example:

   my $list = [

    { ID =&gt; &#39;1&#39;,  NAME =&gt; &#39;Level1_1&#39;, VALUE =&gt; &#39;1&#39; , PRENT_ID =&gt; &#39;0&#39;},
    { ID =&gt; &#39;2&#39;,  NAME =&gt; &#39;Level1_2&#39;, VALUE =&gt; &#39;2&#39; , PRENT_ID =&gt; &#39;0&#39;},
    { ID =&gt; &#39;3&#39;,  NAME =&gt; &#39;Level1_3&#39;, VALUE =&gt; &#39;3&#39; , PRENT_ID =&gt; &#39;0&#39;},
    { ID =&gt; &#39;4&#39;,  NAME =&gt; &#39;Level1_4&#39;, VALUE =&gt; &#39;4&#39; , PRENT_ID =&gt; &#39;0&#39;},

    { ID =&gt; &#39;5&#39;,  NAME =&gt; &#39;Level2_1&#39;, VALUE =&gt; &#39;5&#39; , PRENT_ID =&gt; &#39;1&#39;},
    { ID =&gt; &#39;6&#39;,  NAME =&gt; &#39;Level2_2&#39;, VALUE =&gt; &#39;6&#39; , PRENT_ID =&gt; &#39;2&#39;},
    { ID =&gt; &#39;7&#39;,  NAME =&gt; &#39;Level2_3&#39;, VALUE =&gt; &#39;7&#39; , PRENT_ID =&gt; &#39;3&#39;},
    { ID =&gt; &#39;8&#39;,  NAME =&gt; &#39;Level2_4&#39;, VALUE =&gt; &#39;8&#39; , PRENT_ID =&gt; &#39;4&#39;},

    { ID =&gt; &#39;10&#39;, NAME =&gt; &#39;Level3_1&#39;, VALUE =&gt; &#39;10&#39; , PRENT_ID =&gt; &#39;8&#39;},
    { ID =&gt; &#39;11&#39;, NAME =&gt; &#39;Level3_2&#39;, VALUE =&gt; &#39;11&#39; , PRENT_ID =&gt; &#39;8&#39;},
    { ID =&gt; &#39;12&#39;, NAME =&gt; &#39;Level3_3&#39;, VALUE =&gt; &#39;12&#39; , PRENT_ID =&gt; &#39;8&#39;},
    { ID =&gt; &#39;13&#39;, NAME =&gt; &#39;Level3_4&#39;, VALUE =&gt; &#39;13&#39; , PRENT_ID =&gt; &#39;8&#39;}

  ];

  print $html-&gt;tree_menu( $list, &#39;Menu&#39;, { PARENT_KEY =&gt; &#39;PRENT_ID&#39;, LABEL_KEY =&gt; &#39;NAME&#39; } );</code></pre>

<h2 id="build_parentness_tree-array-attr---build-hash_ref-that-represents-ieararchy-for-list-Parents-and-children">build_parentness_tree($array, $attr) - build hash_ref that represents ieararchy for list (Parents and children);</h2>

<pre><code>  Arguments:
    $array - DB list (array of hash_ref). To build parentness we need only PARENT_ID and ID, so you can pass oly this part
    $attr
      PARENT_KEY - hash_key for an item&#39;s  parent id. Default to P
      ID_KEY     - hash_key for an item&#39;s id key. Default to &#39;ID&#39;
      ROOT_VALUE - Value of root (highest ieararchy level parent). Default is &#39;&#39;;

  Returns:
    hash_ref that represents parentness

  Example:
    If given this:
      my $list = [
        { ID =&gt; 1, PARENT_ID = &#39;0&#39;,  ... },
        { ID =&gt; 2, PARENT_ID = 1,   ... },
        { ID =&gt; 3, PARENT_ID = 2,   ... },
        { ID =&gt; 4, PARENT_ID = 2,   ... },
      ]

    Will return this:
      $result =
      {
      &#39;1&#39; =&gt;
        {
          &#39;2&#39; =&gt;
          {
            &#39;3&#39; =&gt; &#39;&#39;,
            &#39;4&#39; =&gt; &#39;&#39;
          }
        }
      };</code></pre>

<h2 id="fetch---Fetch-cache-data">fetch() - Fetch cache data</h2>

<h2 id="form_datepicker-name-value-attr">form_datepicker($name, $value, $attr) -</h2>

<pre><code>  Arguments:
    $name, $value, $attr -

  Returns:
    html</code></pre>

<h2 id="form_daterangepicker-attr---Adapter-to-JavaScript-Date-Range-Picker">form_daterangepicker($attr) - Adapter to JavaScript Date Range Picker</h2>

<pre><code>  Arguments:
    $attr
      NAME      - string, if specified &#39;NAME1/NAME2&#39;, will return as two separate fields ($FORM{NAME1}, $FORM{NAME2}).
      FORM_NAME - form id for input elements
      WITH_TIME - will allow to choose time range

  Returns:
    html</code></pre>

<h2 id="form_timepicker-name-value-attr">form_timepicker($name, $value, $attr)</h2>

<pre><code>  Arguments:
    $name
    $value
    $attr
      EX_PARAMS
      FORM_ID   - Main form ID

  Returns:
    html</code></pre>

<h2 id="form_datetimepicker-name-value-attr---simple-datetime-chooser">form_datetimepicker($name, $value, $attr) - simple datetime chooser</h2>

<pre><code>  It consists of 3 elements: hidden input, and visible date and time inputs
  When form submits date and time parts are concatenated and written to hidden input

  Arguments:
    $name
    $value
    $attr
      EX_PARAMS
      FORM_ID   - Main form ID

  Returns:
    html</code></pre>

<h2 id="reminder-header-message-attr---shows-callout-message-at-top-of-page">reminder($header, $message, $attr) - shows callout message at top of page</h2>

<pre><code>  Reminder is hidden, so later JS find and move it to the top of the page

  Arguments:
    $header  - string, header of callout block
    $message - string, text for callout
    $attr    - hash_ref
      class         - string, color for reminder block, one of &#39;info&#39;, &#39;warning&#39;, &#39;danger&#39;. default &#39;info&#39;
      VISIBLE       - do not hide callout block
      OUTPUT2RETURN - return string instead of printing

  Returns:
    string - HTML</code></pre>

<h2 id="redirect-url---redirects-user-to-given-URL">redirect($url) - redirects user to given URL</h2>

<pre><code>  Arguments :
    $url  - where user should be redirected
    $attr - $hash_ref
      MESSAGE      - string, will be icluded in message
      MESSAGE_HTML - your custom html to show to user, MESSAGE is ignored
      WAIT         - time given to user to read message (3 if not given, and MESSAGE|MESSAGE_HTML is present)
  
  Returns :
    1, but you should normally avoid doing any operations after calling redirect()
 </code></pre>

<h1 id="AUTHOR">AUTHOR</h1>

<p>~AsmodeuS~ (http://abills.net.ua/)</p>


</body>

</html>


